<div>
  <form [formGroup]="form" class="mb-3">
    <div class="w-100 d-flex justify-content-between mb-1">
      <input
        (change)="inputChanged()"
        type="number"
        formControlName="numberOfDays"
      />
      <select (change)="selectChanged()" formControlName="views">
        <option value="1" selected>Unique site views</option>
        <option value="2">Total page views</option>
      </select>
    </div>
    <app-date-picker-range></app-date-picker-range>
  </form>
  <div>
    <div class="card">
      <div class="card-body">
        <h3 class="text-left">
          {{ views.value === "1" ? "Site views" : "Page views" }}
        </h3>
        <app-loading-in-card
          [type]="'main'"
          *ngIf="getLoading()"
        ></app-loading-in-card>
        <canvas
          *ngIf="!getLoading()"
          baseChart
          [chartType]="'bar'"
          [datasets]="chartData[0]"
          [labels]="chartLabels"
          [options]="chartOptions[0]"
          [legend]="false"
        >
        </canvas>
      </div>
    </div>
    <div class="row">
      <div *ngFor="let domain of domains; let i = index" class="col-lg-6">
        <div class="spacer"></div>
        <div class="card">
          <div class="card-body">
            <h3 class="text-left">{{ domain.title }}</h3>
            <app-loading-in-card
              [type]="'sub'"
              *ngIf="getLoading()"
            ></app-loading-in-card>
            <canvas
              *ngIf="!getLoading()"
              baseChart
              [chartType]="'bar'"
              [datasets]="chartData[i + 1]"
              [labels]="chartLabels"
              [options]="chartOptions[i + 1]"
              [legend]="false"
            >
            </canvas>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
